## To-Do List

### Phase 2: Identify API bugs and system issues
- [x] Review `aiService.js` for API integration issues, especially with Gemini and DeepSeek.
- [x] Review `researchService.js` for web search and content extraction issues.
- [x] Review `messageHandler.js` for message processing and media handling issues.
- [x] Review `index.js` for overall API routes and error handling.
- [x] Identify discrepancies between `wedesignallAPIfunctionality.txt` and current API implementations.

### Phase 3: Redesign API system architecture
- [x] Define a consistent API structure for all external integrations.
- [x] Centralize API key management and rotation.
- [x] Implement robust error handling and logging for all API calls.
- [x] Consider adding rate limiting and caching mechanisms.

### Phase 4: Implement proper API integration methods
- [x] Refactor existing API calls to use a unified, robust method.
- [x] Implement new API integrations as identified from `wedesignallAPIfunctionality.txt`.
- [x] Ensure all API calls use appropriate HTTP methods (GET, POST).

### Phase 5: Fix JSON handling and error management
- [x] Ensure all API responses are correctly parsed as JSON.
- [x] Implement comprehensive error handling for invalid JSON responses.
- [x] Standardize error messages returned to the user.

### Phase 6: Test and validate the fixed API system
- [x] Develop unit tests for individual API integrations.
- [x] Develop integration tests for end-to-end message processing.
- [x] Conduct manual testing to verify functionality.

### Phase 7: Package and deliver the fixed system
- [ ] Document all changes and new features.
- [ ] Prepare the updated project for delivery.
- [ ] Provide instructions for deployment and usage.

